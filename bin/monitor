#!/bin/rc

MONITOR=`{xrandr|egrep -o '^HDM.* connected'|awk '{print $1}'}
PRIMARY=eDP1

if(~ $#MONITOR 0) {
    if (test -f $HOME/.monitor) {
        monitor=`{cat $HOME/.monitor}
        xrandr --output $monitor --off
        xrandr --output $PRIMARY --primary
        rm -f $HOME/.monitor
        rio restart
    }
}
if not {
    xrandr --output $MONITOR --auto --noprimary --above $PRIMARY
    xrandr --output $PRIMARY --primary
    echo $MONITOR > $HOME/.monitor
    rio restart
}

